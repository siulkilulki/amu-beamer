% The beamer presentation theme for:
%
% Informations System Laboratory
% Adam Mickiewicz University
% Faculty of Mathematics & Computer Science
%
% authors: 
% Roman Grundkiewicz <romang@amu.edu.pl>,
% Paweł Skórzewski <pawel.skorzewski@amu.edu.pl>
% created: 21 Sep, 2012
% version: draft
%

% -------------------------------------------------------------------------
% Introduce options

\newif\ifbeamer@english
\beamer@englishfalse
\DeclareOptionBeamer{english}{\beamer@englishtrue}

\newif\ifbeamer@blue
\beamer@bluefalse
\DeclareOptionBeamer{blue}{\beamer@bluetrue}

% \newif\ifbeamer@centertitle
% \beamer@centertitlefalse
% \DeclareOptionBeamer{centertitle}{\beamer@centertitletrue}

% \newif\ifbeamer@wmilogo
% \beamer@wmilogofalse
% \DeclareOptionBeamer{wmilogo}{\beamer@wmilogotrue}

\ProcessOptionsBeamer

% -------------------------------------------------------------------------
% Defining the preamle

\mode<presentation>

\usepackage{pgfcomp-version-0-65}
\usepackage{xcolor}
\usepackage{helvet}

% -------------------------------------------------------------------------
% Inner theme

\useinnertheme{rectangles}
\setbeamertemplate{itemize items}[default]
\setbeamertemplate{blocks}[default]

% -------------------------------------------------------------------------
% Colors

\definecolor{psiBaseColor}{rgb}{0,0,0}

\definecolor{wmiRed}{RGB}{228,38,24}
\colorlet{wmiRed100}{wmiRed}
\colorlet{wmiRed75} {wmiRed!75!white}
\colorlet{wmiRed50} {wmiRed!50!white}
\colorlet{wmiRed25} {wmiRed!25!white}
\colorlet{wmiRed10} {wmiRed!10!white}
\colorlet{wmiRed5}  {wmiRed!5!white}

\definecolor{uamBlue}{RGB}{10,31,98}
\colorlet{uamBlue100}{uamBlue}
\colorlet{uamBlue75} {uamBlue!75!white}
\colorlet{uamBlue50} {uamBlue!50!white}
\colorlet{uamBlue25} {uamBlue!25!white}
\colorlet{uamBlue10} {uamBlue!10!white}
\colorlet{uamBlue5}  {uamBlue!5!white}

\definecolor{uamGray}{RGB}{194,194,194}

\setbeamercolor{title}{fg=uamBlue}
\setbeamercolor{subtitle}{fg=uamBlue}
\setbeamercolor{author}{fg=uamBlue}
\setbeamercolor{date}{fg=uamBlue}

\setbeamercolor{structure}{fg=uamBlue}
\setbeamercolor{frametitle}{fg=uamBlue}
\setbeamercolor{normal text}{fg=uamBlue}

\setbeamercolor{item}{fg=uamBlue}
\setbeamercolor{subitem}{fg=uamBlue}
\setbeamercolor{subsubitem}{fg=uamBlue}
\setbeamercolor{description item}{fg=uamBlue}

\setbeamercolor{alerted text}{fg=wmiRed}
\setbeamercolor{example text}{fg=uamGray}

\setbeamercolor{block title}{use=structure,fg=white,bg=uamBlue}
\setbeamercolor{block title alerted}{use=example text,fg=white,bg=wmiRed}
\setbeamercolor{block title example}{use=alerted text,fg=black,bg=uamGray}
\setbeamercolor{block body}{use=block title,fg=uamBlue}

\setbeamercolor{text in foot}{fg=white}

% -------------------------------------------------------------------------
% Fonts

\usefonttheme{professionalfonts}

\setbeamerfont{title}{size=\Large,shape=\upshape,series=\bfseries}
\setbeamerfont{subtitle}{size=\normalsize,shape=\upshape,series=\bfseries}
\setbeamerfont{frametitle}{size=\Large,shape=\upshape}
\setbeamerfont{author}{size=\normalsize,shape=\upshape}
\setbeamerfont{date}{size=\normalsize,shape=\upshape}

\setbeamerfont{text in foot}{size=\tiny}

% -------------------------------------------------------------------------
% Margins

\setbeamersize{text margin left=0.7cm,text margin right=0.7cm}

% -------------------------------------------------------------------------
% Outer theme

% Title page

\defbeamertemplate*{title page}{PsiUAM}[1][]
{%

\vskip 1.6cm%
\hskip 3.6cm%
\begin{beamercolorbox}[wd=7.8cm,left]{uamBlue}%
    \usebeamerfont{title}\usebeamercolor[fg]{title}\inserttitle\par%
\end{beamercolorbox}%
\\

\vskip 0.6cm%
\hskip 3.6cm%
\begin{beamercolorbox}[wd=7.8cm,left]{uamBlue}%
    \usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle\par%
\end{beamercolorbox}%
\\

\ifx\insertdate\@empty%
\else%
    {\vfill%
    \hskip 3.6cm%
    \begin{beamercolorbox}[wd=7.8cm,left,leftskip=0cm]{uamBlue}%
        \usebeamerfont{date}\usebeamercolor[fg]{date}\insertdate\par%
    \end{beamercolorbox}}%
\fi%

\ifx\insertauthor\@empty%
\else%
    {\vfill%
    \hskip 3.6cm%
    \begin{beamercolorbox}[wd=7.8cm,left,leftskip=0cm]{uamBlue}%
        \usebeamerfont{author}\usebeamercolor[fg]{author}\insertauthor\par%
    \end{beamercolorbox}}%
\fi%
\vskip -0.4cm%

}

% Frame backgrounds

\ifbeamer@blue%
    \ifbeamer@english%
        \pgfdeclareimage[width=\paperwidth]{psiTitleSlide}{img/psi-titleslide-en-blue.png}
    \else%
        \pgfdeclareimage[width=\paperwidth]{psiTitleSlide}{img/psi-titleslide-pl-blue.png}
    \fi%
    \pgfdeclareimage[width=\paperwidth,page=0]{psiBackground}{img/psi-background-blue.png}
\else%
    \ifbeamer@english%
        \pgfdeclareimage[width=\paperwidth]{psiTitleSlide}{img/psi-titleslide-en-red.png}
    \else%
        \pgfdeclareimage[width=\paperwidth]{psiTitleSlide}{img/psi-titleslide-pl-red.png}
    \fi%
    \pgfdeclareimage[width=\paperwidth,page=0]{psiBackground}{img/psi-background-red.png}
\fi%

\defbeamertemplate*{background canvas}{PsiUAM}
{%
  \ifnum\thepage=1\relax%
    \pgfuseimage{psiTitleSlide}
  \else%
    \pgfuseimage{psiBackground}
  \fi%
}

% Frame title

\defbeamertemplate*{frametitle}{PsiUAM}
{%
  \vskip0.6cm%
  \hskip3.6cm%
  \begin{beamercolorbox}[wd=7.8cm,ht=1cm,left]{frame title}%
    {\usebeamerfont{frametitle}\usebeamercolor[fg]{frametitle}\insertframetitle\par}%
  \end{beamercolorbox}%
  \vfil%
}

% Footer

\setbeamertemplate{navigation symbols}{}

\defbeamertemplate*{footline}{PsiUAM}
{%
  \ifnum\thepage=1\relax%
    %do nothing
  \else%
    \pgftext[left,base,at=\pgfpoint{4.4cm}{0.5cm}]{%
      {\usebeamerfont{text in foot}\usebeamercolor[fg]{text in foot}\insertshortauthor\par%
      \hskip 0.1cm--\hskip 0.1cm%
      \usebeamercolor[fg]{text in foot}\insertshorttitle\par}%
    }
    \pgftext[right,base,at=\pgfpoint{12.2cm}{0.5cm}]{%
      {\usebeamerfont{text in foot}\usebeamercolor[fg]{text in foot}%
      \insertframenumber{}/\inserttotalframenumber\par}%
    }
  \fi%
}

\mode
<all>
